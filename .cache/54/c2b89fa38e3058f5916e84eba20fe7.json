{"id":"spu1","dependencies":[{"name":"/Users/steve/Documents/Projects/notedly_app/web/node_modules/@wry/context/lib/context.esm.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/steve/Documents/Projects/notedly_app/web/package.json","includedInParent":true,"mtime":1634550415413},{"name":"/Users/steve/Documents/Projects/notedly_app/web/.babelrc","includedInParent":true,"mtime":1634038347786},{"name":"/Users/steve/Documents/Projects/notedly_app/web/node_modules/@wry/context/package.json","includedInParent":true,"mtime":1634309499551}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Slot=void 0,exports.asyncFromGen=p,exports.noContext=exports.bind=void 0,exports.setTimeout=s,exports.wrapYieldingFiberMethods=y;var t=null,n={},r=1,e=function(){return function(){function e(){this.id=[\"slot\",r++,Date.now(),Math.random().toString(36).slice(2)].join(\":\")}return e.prototype.hasValue=function(){for(var r=t;r;r=r.parent)if(this.id in r.slots){var e=r.slots[this.id];if(e===n)break;return r!==t&&(t.slots[this.id]=e),!0}return t&&(t.slots[this.id]=n),!1},e.prototype.getValue=function(){if(this.hasValue())return t.slots[this.id]},e.prototype.withValue=function(n,r,e,o){var i,u=((i={__proto__:null})[this.id]=n,i),a=t;t={parent:a,slots:u};try{return r.apply(o,e)}finally{t=a}},e.bind=function(n){var r=t;return function(){var e=t;try{return t=r,n.apply(this,arguments)}finally{t=e}}},e.noContext=function(n,r,e){if(!t)return n.apply(e,r);var o=t;try{return t=null,n.apply(e,r)}finally{t=o}},e}()},o=\"@wry/context:Slot\",i=Array,u=i[o]||function(){var t=e();try{Object.defineProperty(i,o,{value:i[o]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}();exports.Slot=u;var a=u.bind,l=u.noContext;function s(t,n){return setTimeout(a(t),n)}function p(t){return function(){var n=t.apply(this,arguments),r=a(n.next),e=a(n.throw);return new Promise(function(t,o){function i(r,e){try{var i=r.call(n,e)}catch(s){return o(s)}var l=i.done?t:u;f(i.value)?i.value.then(l,i.done?o:a):l(i.value)}var u=function(t){return i(r,t)},a=function(t){return i(e,t)};u()})}}function f(t){return t&&\"function\"==typeof t.then}exports.noContext=l,exports.bind=a;var c=[];function y(t){if(c.indexOf(t)<0){var n=function(t,n){var r=t[n];t[n]=function(){return l(r,arguments,this)}};n(t,\"yield\"),n(t.prototype,\"run\"),n(t.prototype,\"throwInto\"),c.push(t)}return t}"},"sourceMaps":{"js":{"mappings":[{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":20}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":43}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":56}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":57}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":64}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":68}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":76}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":86}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":88}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":96}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":109}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":111}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":119}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":129}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":137}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":147}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":149}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":157}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":168}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":170}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":178}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":203}},{"source":"../src/slot.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":205}},{"source":"../src/slot.ts","name":null,"original":{"line":9,"column":4},"generated":{"line":1,"column":209}},{"source":"../src/slot.ts","name":null,"original":{"line":9,"column":37},"generated":{"line":1,"column":211}},{"source":"../src/slot.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":216}},{"source":"../src/slot.ts","name":null,"original":{"line":13,"column":27},"generated":{"line":1,"column":218}},{"source":"../src/slot.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":221}},{"source":"../src/slot.ts","name":null,"original":{"line":15,"column":16},"generated":{"line":1,"column":223}},{"source":"../src/slot.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":225}},{"source":"../src/slot.ts","name":null,"original":{"line":20,"column":22},"generated":{"line":1,"column":227}},{"source":"../src/slot.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":238}},{"source":"../src/slot.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":245}},{"source":"../src/slot.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":256}},{"source":"../src/slot.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":265}},{"source":"../src/slot.ts","name":null,"original":{"line":24,"column":18},"generated":{"line":1,"column":269}},{"source":"../src/slot.ts","name":null,"original":{"line":24,"column":18},"generated":{"line":1,"column":274}},{"source":"../src/slot.ts","name":null,"original":{"line":24,"column":23},"generated":{"line":1,"column":277}},{"source":"../src/slot.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":278}},{"source":"../src/slot.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":285}},{"source":"../src/slot.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":289}},{"source":"../src/slot.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":294}},{"source":"../src/slot.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":300}},{"source":"../src/slot.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":305}},{"source":"../src/slot.ts","name":null,"original":{"line":28,"column":18},"generated":{"line":1,"column":314}},{"source":"../src/slot.ts","name":null,"original":{"line":28,"column":27},"generated":{"line":1,"column":323}},{"source":"../src/slot.ts","name":null,"original":{"line":28,"column":31},"generated":{"line":1,"column":327}},{"source":"../src/slot.ts","name":null,"original":{"line":28,"column":37},"generated":{"line":1,"column":333}},{"source":"../src/slot.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":337}},{"source":"../src/slot.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":342}},{"source":"../src/slot.ts","name":null,"original":{"line":124,"column":0},"generated":{"line":1,"column":347}},{"source":"../src/slot.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":354}},{"source":"../src/slot.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":356}},{"source":"../src/slot.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":366}},{"source":"../src/slot.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":375}},{"source":"../src/slot.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":386}},{"source":"../src/slot.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":390}},{"source":"../src/slot.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":394}},{"source":"../src/slot.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":1,"column":396}},{"source":"../src/slot.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":1,"column":398}},{"source":"../src/slot.ts","name":null,"original":{"line":32,"column":48},"generated":{"line":1,"column":400}},{"source":"../src/slot.ts","name":null,"original":{"line":32,"column":58},"generated":{"line":1,"column":402}},{"source":"../src/slot.ts","name":null,"original":{"line":32,"column":66},"generated":{"line":1,"column":404}},{"source":"../src/slot.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":411}},{"source":"../src/slot.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":414}},{"source":"../src/slot.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":1,"column":419}},{"source":"../src/slot.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":1,"column":425}},{"source":"../src/slot.ts","name":null,"original":{"line":35,"column":29},"generated":{"line":1,"column":427}},{"source":"../src/slot.ts","name":null,"original":{"line":35,"column":36},"generated":{"line":1,"column":433}},{"source":"../src/slot.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":1,"column":434}},{"source":"../src/slot.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":1,"column":438}},{"source":"../src/slot.ts","name":null,"original":{"line":36,"column":22},"generated":{"line":1,"column":440}},{"source":"../src/slot.ts","name":null,"original":{"line":36,"column":30},"generated":{"line":1,"column":442}},{"source":"../src/slot.ts","name":null,"original":{"line":36,"column":36},"generated":{"line":1,"column":448}},{"source":"../src/slot.ts","name":null,"original":{"line":36,"column":41},"generated":{"line":1,"column":453}},{"source":"../src/slot.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":457}},{"source":"../src/slot.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":460}},{"source":"../src/slot.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":464}},{"source":"../src/slot.ts","name":null,"original":{"line":37,"column":37},"generated":{"line":1,"column":466}},{"source":"../src/slot.ts","name":null,"original":{"line":44,"column":15},"generated":{"line":1,"column":472}},{"source":"../src/slot.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":479}},{"source":"../src/slot.ts","name":null,"original":{"line":38,"column":24},"generated":{"line":1,"column":483}},{"source":"../src/slot.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":487}},{"source":"../src/slot.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":489}},{"source":"../src/slot.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":1,"column":495}},{"source":"../src/slot.ts","name":null,"original":{"line":42,"column":37},"generated":{"line":1,"column":500}},{"source":"../src/slot.ts","name":null,"original":{"line":42,"column":43},"generated":{"line":1,"column":504}},{"source":"../src/slot.ts","name":null,"original":{"line":44,"column":15},"generated":{"line":1,"column":508}},{"source":"../src/slot.ts","name":null,"original":{"line":53,"column":11},"generated":{"line":1,"column":510}},{"source":"../src/slot.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":517}},{"source":"../src/slot.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":521}},{"source":"../src/slot.ts","name":null,"original":{"line":51,"column":21},"generated":{"line":1,"column":523}},{"source":"../src/slot.ts","name":null,"original":{"line":51,"column":27},"generated":{"line":1,"column":529}},{"source":"../src/slot.ts","name":null,"original":{"line":51,"column":32},"generated":{"line":1,"column":534}},{"source":"../src/slot.ts","name":null,"original":{"line":51,"column":38},"generated":{"line":1,"column":538}},{"source":"../src/slot.ts","name":null,"original":{"line":53,"column":11},"generated":{"line":1,"column":542}},{"source":"../src/slot.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":545}},{"source":"../src/slot.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":547}},{"source":"../src/slot.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":557}},{"source":"../src/slot.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":1,"column":566}},{"source":"../src/slot.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":577}},{"source":"../src/slot.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":580}},{"source":"../src/slot.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":1,"column":585}},{"source":"../src/slot.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":1,"column":596}},{"source":"../src/slot.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":1,"column":603}},{"source":"../src/slot.ts","name":null,"original":{"line":58,"column":29},"generated":{"line":1,"column":605}},{"source":"../src/slot.ts","name":null,"original":{"line":58,"column":35},"generated":{"line":1,"column":611}},{"source":"../src/slot.ts","name":null,"original":{"line":58,"column":40},"generated":{"line":1,"column":616}},{"source":"../src/slot.ts","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":621}},{"source":"../src/slot.ts","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":623}},{"source":"../src/slot.ts","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":633}},{"source":"../src/slot.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":643}},{"source":"../src/slot.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":652}},{"source":"../src/slot.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":1,"column":654}},{"source":"../src/slot.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":656}},{"source":"../src/slot.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":658}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":661}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":665}},{"source":"../src/slot.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":667}},{"source":"../src/slot.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":671}},{"source":"../src/slot.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":673}},{"source":"../src/slot.ts","name":null,"original":{"line":71,"column":6},"generated":{"line":1,"column":674}},{"source":"../src/slot.ts","name":null,"original":{"line":71,"column":17},"generated":{"line":1,"column":684}},{"source":"../src/slot.ts","name":null,"original":{"line":72,"column":7},"generated":{"line":1,"column":691}},{"source":"../src/slot.ts","name":null,"original":{"line":72,"column":12},"generated":{"line":1,"column":696}},{"source":"../src/slot.ts","name":null,"original":{"line":72,"column":17},"generated":{"line":1,"column":700}},{"source":"../src/slot.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":702}},{"source":"../src/slot.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":705}},{"source":"../src/slot.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":1,"column":707}},{"source":"../src/slot.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":709}},{"source":"../src/slot.ts","name":null,"original":{"line":75,"column":21},"generated":{"line":1,"column":711}},{"source":"../src/slot.ts","name":null,"original":{"line":75,"column":23},"generated":{"line":1,"column":712}},{"source":"../src/slot.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":1,"column":719}},{"source":"../src/slot.ts","name":null,"original":{"line":75,"column":31},"generated":{"line":1,"column":721}},{"source":"../src/slot.ts","name":null,"original":{"line":75,"column":36},"generated":{"line":1,"column":727}},{"source":"../src/slot.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":730}},{"source":"../src/slot.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":734}},{"source":"../src/slot.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":741}},{"source":"../src/slot.ts","name":null,"original":{"line":79,"column":22},"generated":{"line":1,"column":743}},{"source":"../src/slot.ts","name":null,"original":{"line":79,"column":28},"generated":{"line":1,"column":749}},{"source":"../src/slot.ts","name":null,"original":{"line":79,"column":38},"generated":{"line":1,"column":751}},{"source":"../src/slot.ts","name":null,"original":{"line":80,"column":14},"generated":{"line":1,"column":754}},{"source":"../src/slot.ts","name":null,"original":{"line":81,"column":6},"generated":{"line":1,"column":762}},{"source":"../src/slot.ts","name":null,"original":{"line":81,"column":23},"generated":{"line":1,"column":764}},{"source":"../src/slot.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":768}},{"source":"../src/slot.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":770}},{"source":"../src/slot.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":775}},{"source":"../src/slot.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":1,"column":784}},{"source":"../src/slot.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":787}},{"source":"../src/slot.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":791}},{"source":"../src/slot.ts","name":null,"original":{"line":90,"column":20},"generated":{"line":1,"column":793}},{"source":"../src/slot.ts","name":null,"original":{"line":91,"column":11},"generated":{"line":1,"column":795}},{"source":"../src/slot.ts","name":null,"original":{"line":91,"column":11},"generated":{"line":1,"column":802}},{"source":"../src/slot.ts","name":null,"original":{"line":92,"column":12},"generated":{"line":1,"column":813}},{"source":"../src/slot.ts","name":null,"original":{"line":92,"column":12},"generated":{"line":1,"column":817}},{"source":"../src/slot.ts","name":null,"original":{"line":92,"column":20},"generated":{"line":1,"column":819}},{"source":"../src/slot.ts","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":821}},{"source":"../src/slot.ts","name":null,"original":{"line":95,"column":15},"generated":{"line":1,"column":825}},{"source":"../src/slot.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":1,"column":832}},{"source":"../src/slot.ts","name":null,"original":{"line":94,"column":25},"generated":{"line":1,"column":834}},{"source":"../src/slot.ts","name":null,"original":{"line":95,"column":15},"generated":{"line":1,"column":836}},{"source":"../src/slot.ts","name":null,"original":{"line":95,"column":24},"generated":{"line":1,"column":838}},{"source":"../src/slot.ts","name":null,"original":{"line":95,"column":30},"generated":{"line":1,"column":844}},{"source":"../src/slot.ts","name":null,"original":{"line":95,"column":36},"generated":{"line":1,"column":849}},{"source":"../src/slot.ts","name":null,"original":{"line":96,"column":16},"generated":{"line":1,"column":860}},{"source":"../src/slot.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":868}},{"source":"../src/slot.ts","name":null,"original":{"line":97,"column":25},"generated":{"line":1,"column":870}},{"source":"../src/slot.ts","name":null,"original":{"line":103,"column":9},"generated":{"line":1,"column":875}},{"source":"../src/slot.ts","name":null,"original":{"line":103,"column":9},"generated":{"line":1,"column":877}},{"source":"../src/slot.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":887}},{"source":"../src/slot.ts","name":null,"original":{"line":104,"column":4},"generated":{"line":1,"column":896}},{"source":"../src/slot.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":1,"column":898}},{"source":"../src/slot.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":1,"column":900}},{"source":"../src/slot.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":903}},{"source":"../src/slot.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":907}},{"source":"../src/slot.ts","name":null,"original":{"line":121,"column":13},"generated":{"line":1,"column":909}},{"source":"../src/slot.ts","name":null,"original":{"line":121,"column":13},"generated":{"line":1,"column":916}},{"source":"../src/slot.ts","name":null,"original":{"line":121,"column":22},"generated":{"line":1,"column":918}},{"source":"../src/slot.ts","name":null,"original":{"line":121,"column":28},"generated":{"line":1,"column":924}},{"source":"../src/slot.ts","name":null,"original":{"line":121,"column":38},"generated":{"line":1,"column":926}},{"source":"../src/slot.ts","name":null,"original":{"line":111,"column":12},"generated":{"line":1,"column":929}},{"source":"../src/slot.ts","name":null,"original":{"line":111,"column":12},"generated":{"line":1,"column":933}},{"source":"../src/slot.ts","name":null,"original":{"line":111,"column":20},"generated":{"line":1,"column":935}},{"source":"../src/slot.ts","name":null,"original":{"line":112,"column":10},"generated":{"line":1,"column":937}},{"source":"../src/slot.ts","name":null,"original":{"line":116,"column":15},"generated":{"line":1,"column":941}},{"source":"../src/slot.ts","name":null,"original":{"line":113,"column":8},"generated":{"line":1,"column":948}},{"source":"../src/slot.ts","name":null,"original":{"line":113,"column":25},"generated":{"line":1,"column":950}},{"source":"../src/slot.ts","name":null,"original":{"line":116,"column":15},"generated":{"line":1,"column":955}},{"source":"../src/slot.ts","name":null,"original":{"line":116,"column":24},"generated":{"line":1,"column":957}},{"source":"../src/slot.ts","name":null,"original":{"line":116,"column":30},"generated":{"line":1,"column":963}},{"source":"../src/slot.ts","name":null,"original":{"line":116,"column":40},"generated":{"line":1,"column":965}},{"source":"../src/slot.ts","name":null,"original":{"line":117,"column":16},"generated":{"line":1,"column":968}},{"source":"../src/slot.ts","name":null,"original":{"line":118,"column":8},"generated":{"line":1,"column":976}},{"source":"../src/slot.ts","name":null,"original":{"line":118,"column":25},"generated":{"line":1,"column":978}},{"source":"../src/slot.ts","name":null,"original":{"line":124,"column":0},"generated":{"line":1,"column":982}},{"source":"../src/slot.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":984}},{"source":"../src/slot.ts","name":null,"original":{"line":134,"column":6},"generated":{"line":1,"column":988}},{"source":"../src/slot.ts","name":null,"original":{"line":134,"column":18},"generated":{"line":1,"column":990}},{"source":"../src/slot.ts","name":null,"original":{"line":135,"column":6},"generated":{"line":1,"column":1010}},{"source":"../src/slot.ts","name":null,"original":{"line":135,"column":13},"generated":{"line":1,"column":1012}},{"source":"../src/slot.ts","name":null,"original":{"line":137,"column":13},"generated":{"line":1,"column":1018}},{"source":"../src/slot.ts","name":null,"original":{"line":137,"column":54},"generated":{"line":1,"column":1020}},{"source":"../src/slot.ts","name":null,"original":{"line":137,"column":59},"generated":{"line":1,"column":1022}},{"source":"../src/slot.ts","name":null,"original":{"line":137,"column":73},"generated":{"line":1,"column":1026}},{"source":"../src/slot.ts","name":null,"original":{"line":138,"column":8},"generated":{"line":1,"column":1037}},{"source":"../src/slot.ts","name":null,"original":{"line":138,"column":8},"generated":{"line":1,"column":1041}},{"source":"../src/slot.ts","name":null,"original":{"line":138,"column":15},"generated":{"line":1,"column":1043}},{"source":"../src/slot.ts","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":1047}},{"source":"../src/slot.ts","name":null,"original":{"line":140,"column":4},"generated":{"line":1,"column":1051}},{"source":"../src/slot.ts","name":null,"original":{"line":140,"column":11},"generated":{"line":1,"column":1058}},{"source":"../src/slot.ts","name":null,"original":{"line":140,"column":26},"generated":{"line":1,"column":1073}},{"source":"../src/slot.ts","name":null,"original":{"line":140,"column":32},"generated":{"line":1,"column":1075}},{"source":"../src/slot.ts","name":null,"original":{"line":140,"column":43},"generated":{"line":1,"column":1077}},{"source":"../src/slot.ts","name":null,"original":{"line":141,"column":6},"generated":{"line":1,"column":1078}},{"source":"../src/slot.ts","name":null,"original":{"line":141,"column":13},"generated":{"line":1,"column":1084}},{"source":"../src/slot.ts","name":null,"original":{"line":141,"column":18},"generated":{"line":1,"column":1086}},{"source":"../src/slot.ts","name":null,"original":{"line":141,"column":31},"generated":{"line":1,"column":1089}},{"source":"../src/slot.ts","name":null,"original":{"line":142,"column":6},"generated":{"line":1,"column":1091}},{"source":"../src/slot.ts","name":null,"original":{"line":142,"column":18},"generated":{"line":1,"column":1103}},{"source":"../src/slot.ts","name":null,"original":{"line":143,"column":6},"generated":{"line":1,"column":1105}},{"source":"../src/slot.ts","name":null,"original":{"line":143,"column":16},"generated":{"line":1,"column":1115}},{"source":"../src/slot.ts","name":null,"original":{"line":144,"column":6},"generated":{"line":1,"column":1117}},{"source":"../src/slot.ts","name":null,"original":{"line":144,"column":20},"generated":{"line":1,"column":1131}},{"source":"../src/slot.ts","name":null,"original":{"line":146,"column":12},"generated":{"line":1,"column":1135}},{"source":"../src/slot.ts","name":null,"original":{"line":147,"column":11},"generated":{"line":1,"column":1143}},{"source":"../src/slot.ts","name":null,"original":{"line":147,"column":11},"generated":{"line":1,"column":1150}},{"source":"../src/slot.ts","name":null,"original":{"line":137,"column":73},"generated":{"line":1,"column":1153}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1156}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1164}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1169}},{"source":"../src/context.ts","name":null,"original":{"line":3,"column":15},"generated":{"line":1,"column":1171}},{"source":"../src/context.ts","name":null,"original":{"line":3,"column":15},"generated":{"line":1,"column":1175}},{"source":"../src/context.ts","name":null,"original":{"line":3,"column":35},"generated":{"line":1,"column":1177}},{"source":"../src/context.ts","name":null,"original":{"line":3,"column":39},"generated":{"line":1,"column":1179}},{"source":"../src/context.ts","name":null,"original":{"line":3,"column":21},"generated":{"line":1,"column":1184}},{"source":"../src/context.ts","name":null,"original":{"line":3,"column":35},"generated":{"line":1,"column":1186}},{"source":"../src/context.ts","name":null,"original":{"line":3,"column":39},"generated":{"line":1,"column":1188}},{"source":"../src/context.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":1198}},{"source":"../src/context.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":1207}},{"source":"../src/context.ts","name":null,"original":{"line":15,"column":31},"generated":{"line":1,"column":1209}},{"source":"../src/context.ts","name":null,"original":{"line":15,"column":52},"generated":{"line":1,"column":1211}},{"source":"../src/context.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":1214}},{"source":"../src/context.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":1221}},{"source":"../src/context.ts","name":null,"original":{"line":16,"column":20},"generated":{"line":1,"column":1232}},{"source":"../src/context.ts","name":null,"original":{"line":16,"column":25},"generated":{"line":1,"column":1234}},{"source":"../src/context.ts","name":null,"original":{"line":16,"column":36},"generated":{"line":1,"column":1237}},{"source":"../src/context.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":1,"column":1240}},{"source":"../src/context.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":1,"column":1249}},{"source":"../src/context.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":1251}},{"source":"../src/context.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":1254}},{"source":"../src/context.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":1261}},{"source":"../src/context.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":1272}},{"source":"../src/context.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":1276}},{"source":"../src/context.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":1278}},{"source":"../src/context.ts","name":null,"original":{"line":25,"column":22},"generated":{"line":1,"column":1280}},{"source":"../src/context.ts","name":null,"original":{"line":25,"column":28},"generated":{"line":1,"column":1286}},{"source":"../src/context.ts","name":null,"original":{"line":25,"column":34},"generated":{"line":1,"column":1291}},{"source":"../src/context.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":1302}},{"source":"../src/context.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":1,"column":1304}},{"source":"../src/context.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":1306}},{"source":"../src/context.ts","name":null,"original":{"line":26,"column":31},"generated":{"line":1,"column":1308}},{"source":"../src/context.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":1314}},{"source":"../src/context.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":1316}},{"source":"../src/context.ts","name":null,"original":{"line":27,"column":28},"generated":{"line":1,"column":1318}},{"source":"../src/context.ts","name":null,"original":{"line":27,"column":32},"generated":{"line":1,"column":1320}},{"source":"../src/context.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":1327}},{"source":"../src/context.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":1334}},{"source":"../src/context.ts","name":null,"original":{"line":30,"column":15},"generated":{"line":1,"column":1338}},{"source":"../src/context.ts","name":null,"original":{"line":30,"column":23},"generated":{"line":1,"column":1346}},{"source":"../src/context.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":1355}},{"source":"../src/context.ts","name":null,"original":{"line":30,"column":33},"generated":{"line":1,"column":1357}},{"source":"../src/context.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":1360}},{"source":"../src/context.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":1369}},{"source":"../src/context.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":1,"column":1371}},{"source":"../src/context.ts","name":null,"original":{"line":31,"column":38},"generated":{"line":1,"column":1373}},{"source":"../src/context.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":1376}},{"source":"../src/context.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":1,"column":1380}},{"source":"../src/context.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":1,"column":1384}},{"source":"../src/context.ts","name":null,"original":{"line":33,"column":28},"generated":{"line":1,"column":1386}},{"source":"../src/context.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":1,"column":1388}},{"source":"../src/context.ts","name":null,"original":{"line":33,"column":40},"generated":{"line":1,"column":1393}},{"source":"../src/context.ts","name":null,"original":{"line":33,"column":45},"generated":{"line":1,"column":1395}},{"source":"../src/context.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":1398}},{"source":"../src/context.ts","name":null,"original":{"line":34,"column":17},"generated":{"line":1,"column":1404}},{"source":"../src/context.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":1,"column":1407}},{"source":"../src/context.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":1,"column":1414}},{"source":"../src/context.ts","name":null,"original":{"line":35,"column":24},"generated":{"line":1,"column":1416}},{"source":"../src/context.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":1,"column":1419}},{"source":"../src/context.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":1,"column":1423}},{"source":"../src/context.ts","name":null,"original":{"line":37,"column":21},"generated":{"line":1,"column":1425}},{"source":"../src/context.ts","name":null,"original":{"line":37,"column":28},"generated":{"line":1,"column":1427}},{"source":"../src/context.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":1432}},{"source":"../src/context.ts","name":null,"original":{"line":37,"column":45},"generated":{"line":1,"column":1434}},{"source":"../src/context.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":1436}},{"source":"../src/context.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":1,"column":1438}},{"source":"../src/context.ts","name":null,"original":{"line":38,"column":33},"generated":{"line":1,"column":1440}},{"source":"../src/context.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":1447}},{"source":"../src/context.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":1,"column":1449}},{"source":"../src/context.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":1455}},{"source":"../src/context.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":1,"column":1460}},{"source":"../src/context.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":1462}},{"source":"../src/context.ts","name":null,"original":{"line":39,"column":41},"generated":{"line":1,"column":1464}},{"source":"../src/context.ts","name":null,"original":{"line":39,"column":48},"generated":{"line":1,"column":1469}},{"source":"../src/context.ts","name":null,"original":{"line":39,"column":57},"generated":{"line":1,"column":1471}},{"source":"../src/context.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":1474}},{"source":"../src/context.ts","name":null,"original":{"line":41,"column":15},"generated":{"line":1,"column":1476}},{"source":"../src/context.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":1478}},{"source":"../src/context.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":1485}},{"source":"../src/context.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":1489}},{"source":"../src/context.ts","name":null,"original":{"line":44,"column":25},"generated":{"line":1,"column":1491}},{"source":"../src/context.ts","name":null,"original":{"line":44,"column":26},"generated":{"line":1,"column":1500}},{"source":"../src/context.ts","name":null,"original":{"line":44,"column":42},"generated":{"line":1,"column":1503}},{"source":"../src/context.ts","name":null,"original":{"line":44,"column":42},"generated":{"line":1,"column":1510}},{"source":"../src/context.ts","name":null,"original":{"line":44,"column":49},"generated":{"line":1,"column":1512}},{"source":"../src/context.ts","name":null,"original":{"line":44,"column":60},"generated":{"line":1,"column":1514}},{"source":"../src/context.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":1518}},{"source":"../src/context.ts","name":null,"original":{"line":45,"column":26},"generated":{"line":1,"column":1520}},{"source":"../src/context.ts","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":1529}},{"source":"../src/context.ts","name":null,"original":{"line":45,"column":42},"generated":{"line":1,"column":1532}},{"source":"../src/context.ts","name":null,"original":{"line":45,"column":42},"generated":{"line":1,"column":1539}},{"source":"../src/context.ts","name":null,"original":{"line":45,"column":49},"generated":{"line":1,"column":1541}},{"source":"../src/context.ts","name":null,"original":{"line":45,"column":61},"generated":{"line":1,"column":1543}},{"source":"../src/context.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":1,"column":1547}},{"source":"../src/context.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":1554}},{"source":"../src/context.ts","name":null,"original":{"line":51,"column":9},"generated":{"line":1,"column":1563}},{"source":"../src/context.ts","name":null,"original":{"line":51,"column":23},"generated":{"line":1,"column":1565}},{"source":"../src/context.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":1568}},{"source":"../src/context.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":1575}},{"source":"../src/context.ts","name":null,"original":{"line":52,"column":40},"generated":{"line":1,"column":1578}},{"source":"../src/context.ts","name":null,"original":{"line":52,"column":25},"generated":{"line":1,"column":1597}},{"source":"../src/context.ts","name":null,"original":{"line":52,"column":31},"generated":{"line":1,"column":1599}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1604}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1612}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1622}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1624}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1632}},{"source":"../src/context.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1637}},{"source":"../src/context.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":1639}},{"source":"../src/context.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":1,"column":1643}},{"source":"../src/context.ts","name":null,"original":{"line":58,"column":34},"generated":{"line":1,"column":1645}},{"source":"../src/context.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":1648}},{"source":"../src/context.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":1657}},{"source":"../src/context.ts","name":null,"original":{"line":59,"column":61},"generated":{"line":1,"column":1659}},{"source":"../src/context.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":1662}},{"source":"../src/context.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":1665}},{"source":"../src/context.ts","name":null,"original":{"line":62,"column":20},"generated":{"line":1,"column":1667}},{"source":"../src/context.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":1675}},{"source":"../src/context.ts","name":null,"original":{"line":62,"column":37},"generated":{"line":1,"column":1678}},{"source":"../src/context.ts","name":null,"original":{"line":62,"column":40},"generated":{"line":1,"column":1680}},{"source":"../src/context.ts","name":null,"original":{"line":63,"column":10},"generated":{"line":1,"column":1681}},{"source":"../src/context.ts","name":null,"original":{"line":63,"column":10},"generated":{"line":1,"column":1685}},{"source":"../src/context.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":1687}},{"source":"../src/context.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":1696}},{"source":"../src/context.ts","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":1698}},{"source":"../src/context.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":1,"column":1701}},{"source":"../src/context.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":1,"column":1705}},{"source":"../src/context.ts","name":null,"original":{"line":64,"column":17},"generated":{"line":1,"column":1707}},{"source":"../src/context.ts","name":null,"original":{"line":64,"column":21},"generated":{"line":1,"column":1709}},{"source":"../src/context.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":1,"column":1712}},{"source":"../src/context.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1714}},{"source":"../src/context.ts","name":null,"original":{"line":65,"column":20},"generated":{"line":1,"column":1717}},{"source":"../src/context.ts","name":null,"original":{"line":66,"column":15},"generated":{"line":1,"column":1728}},{"source":"../src/context.ts","name":null,"original":{"line":66,"column":15},"generated":{"line":1,"column":1735}},{"source":"../src/context.ts","name":null,"original":{"line":66,"column":25},"generated":{"line":1,"column":1737}},{"source":"../src/context.ts","name":null,"original":{"line":66,"column":29},"generated":{"line":1,"column":1739}},{"source":"../src/context.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1749}},{"source":"../src/context.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":1757}},{"source":"../src/context.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1759}},{"source":"../src/context.ts","name":null,"original":{"line":71,"column":16},"generated":{"line":1,"column":1761}},{"source":"../src/context.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":1770}},{"source":"../src/context.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":1772}},{"source":"../src/context.ts","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":1774}},{"source":"../src/context.ts","name":null,"original":{"line":72,"column":26},"generated":{"line":1,"column":1784}},{"source":"../src/context.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":1791}},{"source":"../src/context.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":1793}},{"source":"../src/context.ts","name":null,"original":{"line":73,"column":15},"generated":{"line":1,"column":1795}},{"source":"../src/context.ts","name":null,"original":{"line":73,"column":26},"generated":{"line":1,"column":1805}},{"source":"../src/context.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":1818}},{"source":"../src/context.ts","name":null,"original":{"line":74,"column":18},"generated":{"line":1,"column":1820}},{"source":"../src/context.ts","name":null,"original":{"line":74,"column":23},"generated":{"line":1,"column":1825}},{"source":"../src/context.ts","name":null,"original":{"line":76,"column":9},"generated":{"line":1,"column":1828}},{"source":"../src/context.ts","name":null,"original":{"line":76,"column":9},"generated":{"line":1,"column":1835}}],"sources":{"../src/context.ts":"import { Slot } from \"./slot\";\nexport { Slot }\nexport const { bind, noContext } = Slot;\n\n// Relying on the @types/node declaration of global.setTimeout can make\n// things tricky for dowstream projects (see PR #7).\ndeclare function setTimeout(\n  callback: (...args: any[]) => any,\n  ms?: number,\n  ...args: any[]\n): any;\n\n// Like global.setTimeout, except the callback runs with captured context.\nexport { setTimeoutWithContext as setTimeout };\nfunction setTimeoutWithContext(callback: () => any, delay: number) {\n  return setTimeout(bind(callback), delay);\n}\n\n// Turn any generator function into an async function (using yield instead\n// of await), with context automatically preserved across yields.\nexport function asyncFromGen<TArgs extends any[]>(\n  genFn: (...args: TArgs) => any\n) {\n  return function (this: any) {\n    const gen = genFn.apply(this, arguments as any);\n    const boundNext = bind(gen.next);\n    const boundThrow = bind(gen.throw!);\n    type Method = typeof boundNext | typeof boundThrow;\n\n    return new Promise((resolve, reject) => {\n      function invoke(method: Method, argument: any) {\n        try {\n          var result: any = method.call(gen, argument);\n        } catch (error) {\n          return reject(error);\n        }\n        const next = result.done ? resolve : invokeNext;\n        if (isPromiseLike(result.value)) {\n          result.value.then(next, result.done ? reject : invokeThrow);\n        } else {\n          next(result.value);\n        }\n      }\n      const invokeNext = (value?: any) => invoke(boundNext, value);\n      const invokeThrow = (error: any) => invoke(boundThrow, error);\n      invokeNext();\n    });\n  } as (...args: TArgs) => Promise<any>;\n}\n\nfunction isPromiseLike(value: any): value is PromiseLike<any> {\n  return value && typeof value.then === \"function\";\n}\n\n// If you use the fibers npm package to implement coroutines in Node.js,\n// you should call this function at least once to ensure context management\n// remains coherent across any yields.\nconst wrappedFibers: Function[] = [];\nexport function wrapYieldingFiberMethods<F extends Function>(Fiber: F): F {\n  // There can be only one implementation of Fiber per process, so this array\n  // should never grow longer than one element.\n  if (wrappedFibers.indexOf(Fiber) < 0) {\n    const wrap = (obj: any, method: string) => {\n      const fn = obj[method];\n      obj[method] = function () {\n        return noContext(fn, arguments as any, this);\n      };\n    }\n    // These methods can yield, according to\n    // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\n    wrap(Fiber, \"yield\");\n    wrap(Fiber.prototype, \"run\");\n    wrap(Fiber.prototype, \"throwInto\");\n    wrappedFibers.push(Fiber);\n  }\n  return Fiber;\n}\n","../src/slot.ts":"type Context = {\n  parent: Context | null;\n  slots: { [slotId: string]: any };\n}\n\n// This currentContext variable will only be used if the makeSlotClass\n// function is called, which happens only if this is the first copy of the\n// @wry/context package to be imported.\nlet currentContext: Context | null = null;\n\n// This unique internal object is used to denote the absence of a value\n// for a given Slot, and is never exposed to outside code.\nconst MISSING_VALUE: any = {};\n\nlet idCounter = 1;\n\n// Although we can't do anything about the cost of duplicated code from\n// accidentally bundling multiple copies of the @wry/context package, we can\n// avoid creating the Slot class more than once using makeSlotClass.\nconst makeSlotClass = () => class Slot<TValue> {\n  // If you have a Slot object, you can find out its slot.id, but you cannot\n  // guess the slot.id of a Slot you don't have access to, thanks to the\n  // randomized suffix.\n  public readonly id = [\n    \"slot\",\n    idCounter++,\n    Date.now(),\n    Math.random().toString(36).slice(2),\n  ].join(\":\");\n\n  public hasValue() {\n    for (let context = currentContext; context; context = context.parent) {\n      // We use the Slot object iself as a key to its value, which means the\n      // value cannot be obtained without a reference to the Slot object.\n      if (this.id in context.slots) {\n        const value = context.slots[this.id];\n        if (value === MISSING_VALUE) break;\n        if (context !== currentContext) {\n          // Cache the value in currentContext.slots so the next lookup will\n          // be faster. This caching is safe because the tree of contexts and\n          // the values of the slots are logically immutable.\n          currentContext!.slots[this.id] = value;\n        }\n        return true;\n      }\n    }\n    if (currentContext) {\n      // If a value was not found for this Slot, it's never going to be found\n      // no matter how many times we look it up, so we might as well cache\n      // the absence of the value, too.\n      currentContext.slots[this.id] = MISSING_VALUE;\n    }\n    return false;\n  }\n\n  public getValue(): TValue | undefined {\n    if (this.hasValue()) {\n      return currentContext!.slots[this.id] as TValue;\n    }\n  }\n\n  public withValue<TResult, TArgs extends any[], TThis = any>(\n    value: TValue,\n    callback: (this: TThis, ...args: TArgs) => TResult,\n    // Given the prevalence of arrow functions, specifying arguments is likely\n    // to be much more common than specifying `this`, hence this ordering:\n    args?: TArgs,\n    thisArg?: TThis,\n  ): TResult {\n    const slots = {\n      __proto__: null,\n      [this.id]: value,\n    };\n    const parent = currentContext;\n    currentContext = { parent, slots };\n    try {\n      // Function.prototype.apply allows the arguments array argument to be\n      // omitted or undefined, so args! is fine here.\n      return callback.apply(thisArg!, args!);\n    } finally {\n      currentContext = parent;\n    }\n  }\n\n  // Capture the current context and wrap a callback function so that it\n  // reestablishes the captured context when called.\n  static bind<TArgs extends any[], TResult>(\n    callback: (...args: TArgs) => TResult,\n  ) {\n    const context = currentContext;\n    return function (this: any) {\n      const saved = currentContext;\n      try {\n        currentContext = context;\n        return callback.apply(this, arguments as any);\n      } finally {\n        currentContext = saved;\n      }\n    } as typeof callback;\n  }\n\n  // Immediately run a callback function without any captured context.\n  static noContext<TResult, TArgs extends any[], TThis = any>(\n    callback: (this: TThis, ...args: TArgs) => TResult,\n    // Given the prevalence of arrow functions, specifying arguments is likely\n    // to be much more common than specifying `this`, hence this ordering:\n    args?: TArgs,\n    thisArg?: TThis,\n  ) {\n    if (currentContext) {\n      const saved = currentContext;\n      try {\n        currentContext = null;\n        // Function.prototype.apply allows the arguments array argument to be\n        // omitted or undefined, so args! is fine here.\n        return callback.apply(thisArg!, args!);\n      } finally {\n        currentContext = saved;\n      }\n    } else {\n      return callback.apply(thisArg!, args!);\n    }\n  }\n};\n\n// We store a single global implementation of the Slot class as a permanent\n// non-enumerable symbol property of the Array constructor. This obfuscation\n// does nothing to prevent access to the Slot class, but at least it ensures\n// the implementation (i.e. currentContext) cannot be tampered with, and all\n// copies of the @wry/context package (hopefully just one) will share the\n// same Slot implementation. Since the first copy of the @wry/context package\n// to be imported wins, this technique imposes a very high cost for any\n// future breaking changes to the Slot class.\nconst globalKey = \"@wry/context:Slot\";\nconst host = Array as any;\n\nexport const Slot: ReturnType<typeof makeSlotClass> = host[globalKey] || function () {\n  const Slot = makeSlotClass();\n  try {\n    Object.defineProperty(host, globalKey, {\n      value: host[globalKey] = Slot,\n      enumerable: false,\n      writable: false,\n      configurable: false,\n    });\n  } finally {\n    return Slot;\n  }\n}();\n"},"lineCount":null}},"error":null,"hash":"0e443ff87fab0cbd2b06faf35f434a29","cacheData":{"env":{}}}